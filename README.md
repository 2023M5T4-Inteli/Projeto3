# Inteli - Instituto de Tecnologia e Liderança 

<p align="center">
<a href= "https://www.inteli.edu.br/"><img src="https://www.inteli.edu.br/wp-content/uploads/2021/08/20172028/marca_1-2.png" alt="Inteli - Instituto de Tecnologia e Liderança" border="0"></a>
</p>
<br>

# Desenvolvimento de software para Seguros Mútuos utilizando Blockchain
<br>
<p align="center">
<a href= "https://coover.me/"><img src="https://cdn.discordapp.com/attachments/937463646181785633/1079671974260899910/logo_coovr_verde_2.png" width="50%" height="50%" border="0"></a>
</p>
<br>

# Projeto: SIB - Smart Insurance Blockchain (Contratos Inteligentes via Blockchain)

## Grupo 3: BlockCoovers

## 🚀 Integrantes: 
- <a href="https://www.linkedin.com/in/dayllan-alho">Dayllan de Souza Alho</a>
- <a href="https://www.linkedin.com/in/joão-marques-1b64b2232">João Moreira Tourinho Marques</a>
- <a href="https://www.linkedin.com/in/kathlyn-diwan-0a0189232">Kathlyn Diwan</a> 
- <a href="https://www.linkedin.com/in/carvalholari">Larissa Gouveia de Carvalho</a>
- <a href="https://www.linkedin.com/in/patrick-victorino-miranda-7ab911231">Patrick Victorino Miranda</a>
- <a href="https://www.linkedin.com/in/pedrocrezende/">Pedro de Carvalho Rezende</a>
- <a href="https://www.linkedin.com/in/rodrigo-campos-8b70191ab">Rodrigo Campos Rodrigues</a>
<br>


## 📲 Descrição

A Coover é uma startup inovadora que visa revolucionar a indústria de seguros através da introdução de um modelo de seguro mútuo baseado em blockchain, que dê maior enfoque no cliente e nas suas necessidades. Nesse sentido, nós do grupo BlockCoovers desenvolvemos, a partir da tecnologia blockchain, uma plataforma Web3 para criar e desenvolver contratos inteligentes, os quais permitam a realização de operações e validações de processos de forma segura e eficiente em um TestNet aberto. Este modelo inovador de seguro mútuo combinado com a tecnologia blockchain garantirá uma cultura de transparência e confiança na indústria de seguros.

<p align="center">
<img src="https://cdn.discordapp.com/attachments/937463646181785633/1074747804540481647/Block.jpg" border="0">
  <a href="https://github.com/2023M5T4-Inteli/Projeto3"> BlockCoovers Logo</a>
</p>

## 📁 Estrutura de pastas

- <a href="https://github.com/2023M5T4-Inteli/Projeto3/tree/main/Documentos">📁</a><b>Documentos</b> <br>
    - <a href="https://github.com/2023M5T4-Inteli/Projeto3/tree/main/Documentos/outros">📂</a><b>outros</b> <br>
        - <a href="https://github.com/2023M5T4-Inteli/Projeto3/tree/main/Documentos/outros/Apresenta%C3%A7%C3%B5es">📺</a><b>Apresentações</b> <br>
        - <a href="https://github.com/2023M5T4-Inteli/Projeto3/tree/main/Documentos/outros/C%C3%B3digo%20-%20Imagens">📷</a><b>Código - Imagens</b> <br>
        - <a href="https://github.com/2023M5T4-Inteli/Projeto3/tree/main/Documentos/outros/Organiza%C3%A7%C3%A3o%20da%20Equipe">📑</a> <b>Organização da Equipe</b> <br>
        - <a href="https://github.com/2023M5T4-Inteli/Projeto3/tree/main/Documentos/outros/Templates">📔</a> <b>Templates</b> <br>
    - <a href="https://github.com/2023M5T4-Inteli/Projeto3/tree/main/Documentos/Sprint%201">📂</a><b>Sprint 1</b> <br>
    - <a href="https://github.com/2023M5T4-Inteli/Projeto3/tree/main/Documentos/Sprint%202">📂</a><b>Sprint 2</b> <br>
        - <a href="https://github.com/2023M5T4-Inteli/Projeto3/blob/main/Documentos/Sprint%202/T4_G3_V2_SIBDoc.pdf"><img src="https://user-images.githubusercontent.com/99209356/174968401-abc5cae1-7a1e-4f06-aca6-c859c993c038.svg" width="18px" height="18px"></a> T4_G3_V2_SIBDoc.pdf<br>
        - <a href="https://github.com/2023M5T4-Inteli/Projeto3/blob/main/Documentos/Sprint%202/T4_G3_V2_SIBDoc.docx"><img src="https://user-images.githubusercontent.com/99209356/174968001-e5dfbc94-09e5-43d3-a5ab-60a684e673b3.svg" width="18px" height="18px"></a> T4_G3_V2_SIBDoc.docx<br>
    - <a href="https://github.com/2023M5T4-Inteli/Projeto3/tree/main/Documentos/Sprint%203">📂</a><b>Sprint 3</b> <br>
    - <a href="https://github.com/2023M5T4-Inteli/Projeto3/tree/main/Documentos/Sprint%204">📂</a><b>Sprint 4</b> <br>
    - <a href="https://github.com/2023M5T4-Inteli/Projeto3/tree/main/Documentos/Sprint%205">📂</a><b>Sprint 5</b> <br>

- <a href="https://github.com/2023M5T4-Inteli/Projeto3/tree/main/contrato">📁</a><b>contrato</b> <br>
    - <a href="https://github.com/2023M5T4-Inteli/Projeto3/blob/main/contrato/smartContract.sol"><img src="https://user-images.githubusercontent.com/99209356/221511260-74a25bc5-7a37-451a-8430-376afef29f45.svg" width="18px" height="18px"></a> smartContract.sol<br>
    - <a href="https://github.com/2023M5T4-Inteli/Projeto3/blob/main/contrato/README.md"><img src="https://user-images.githubusercontent.com/99209356/218608553-099590b4-6f09-4590-8380-83f0dfd12653.svg" width="18px" height="18px"></a> <b>README.md</b> [Instrução dos arquivos]<br>

- <a href="https://github.com/2023M5T4-Inteli/Projeto3/blob/main/README.md"><img src="https://user-images.githubusercontent.com/99209356/218608553-099590b4-6f09-4590-8380-83f0dfd12653.svg" width="18px" height="18px"></a><b> README.md</b> <br>

<br>

# :wrench: Teste Automatizado

🛠 Teste Unitário
Nesse momento, realizamos dois testes seguindo metodologias utilizadas em testes de software. Esses testes são realizados para verificação das pequenas partes do código, chamadas de unidades, que devem apresentar o funcionamento perfeitamente, seguindo uma pré-condição, procedimento e pós-condição. Os testes foram executados em um ambiente isolado do contrato principal, em um arquivo denominado “coin_test.sol”. Essa metodologia ajuda a garantir que cada parte do código esteja funcionando corretamente antes de ser integrada a outras partes.

Instruções de teste unitário no ambiente de desenvolvimento:<br>

### **Teste número 1**<br>

Na primeira função de teste, "testarTaxaAdmin()", é verificado se a taxa de administração do contrato foi definida corretamente.<br><br>
**Pré-condição**: é criado um novo contrato, passando a taxa de administração como parâmetro. Em seguida, o valor esperado é definido como 2. Como mostrado abaixo:<br>

```
function testarTaxaAdmin() public {
        //cria o contrato, passando a texaAdmin como 3 parametro
        MeuContrato meuContrato = new MeuContrato(1, 5, 2);
        //no caso fala q o valor esperado e 2
        uint valorEsperado = 2;
```

**Procedimento de teste**: o teste verifica se o valor retornado pela função "taxaAdmin()" é igual ao valor definido no deploy da nova instância do contrato.<br>
**Resultado esperado**: o resultado esperado é que a função "taxaAdmin()" retorne 2, valor esse que foi definido na criação do contrato.

```
Assert.equal(meuContrato.taxaAdmin(), valorEsperado, "taxaIncorreta");
    }
```

**Pós-condição**: o teste verifica se o valor retornado pela função "taxaAdmin()" é igual ao valor esperado, e se não for, a mensagem de erro "taxaIncorreta" é exibida.<br>

Abaixo é possível visualizar o código completo deste teste tanto para copiar quanto para uma captura de tela para melhor visualização no Remix IDE:

```
function testarTaxaAdmin() public {
        //cria o contrato, passando a taxaAdmin como 3 parâmetro
        MeuContrato meuContrato = new MeuContrato(1, 5, 2);
        //no caso, o valor esperado é 2
        uint valorEsperado = 2;
        Assert.equal(meuContrato.taxaAdmin(), valorEsperado, "taxaIncorreta");
    }
```
![Teste Automatizado 1](https://github.com/2023M5T4-Inteli/Projeto3/blob/main/Documentos/outros/Captura%20de%20telas%20-%20Imagens/Teste%20Automatizado%201.png)
<br>


### **Teste número 2**<br>

Na segunda função de teste, "testarValorPosTaxa()", é verificado se o valor final, com a taxa de administração incluída, está sendo calculado corretamente.<br>
**Pré-condição**: é criado um novo contrato, passando a taxa de administração como parâmetro, 10% no caso. Em seguida, o valor do depósito é definido como 10.<br>

```
    //função para testar se o valor com a taxa está sendo calculado corretamente
    function testarValorPosTaxa() public{
        MeuContrato meuContrato = new MeuContrato(1, 5, 10);
         uint valorDeposito = 10;
```

**Resultado Esperado**: o valor esperado é definido como 11 (o depósito original mais a taxa de administração).<br>

```
uint valorEsperado = 11;
```

**Procedimento de teste**: o teste calcula o impacto da taxa administrativa no valor do depósito através da função valorPosTaxa(), para depois ser comparado ao valor esperado.<br>

**Pós-condição**: o teste verifica se o valor retornado pela função "valorPosTaxa()" é igual ao valor esperado, e se não for, a mensagem de erro "valor Incorreto" é exibida.<br>

```
Assert.equal(meuContrato.valorPosTaxa(valorDeposito),valorEsperado, "valorCorreto");
    }
```

Abaixo é possível visualizar o código completo deste teste tanto para copiar quanto para uma captura de tela para melhor visualização no Remix IDE:

```
//função para testar se o valor com a taxa está sendo calculado corretamente
function testarValorPosTaxa() public{
MeuContrato meuContrato = new MeuContrato(1, 5, 10);
uint valorDeposito = 10;
uint valorEsperado = 11;
Assert.equal(meuContrato.valorPosTaxa(valorDeposito), valorEsperado, "valorCorreto");
    }
```

![Teste automatizado 2](https://github.com/2023M5T4-Inteli/Projeto3/blob/main/Documentos/outros/Captura%20de%20telas%20-%20Imagens/Teste%20Automatizado%202.png)
<br>
### **Teste número 3**

Na Terceira função de teste, "testSolicitacaoAprovacao()”, é verificado se o usuário enviar uma solicitação de entrada no grupo, as suas informações são salvas corretamente no contrato”<br>

**Pré-condição**: é criado um novo contrato, e posteriormente, definimos o valor do aparelho ”10” e imei “123” de usuário a ser adicionado no contrato.

```
/// #sender: account-2
    /// #value: 0
    //Confere se o imei e valor do aparelho de quem solicitou foram salvos corretamente
    function testSolicitacaoAprovacao() public {
        //cria o contrato
        MeuContrato meuContrato = new MeuContrato(1, 5, 10);
        //define o valor do aparelho e o seu imei, os quais são esperados que sejam salvos corretamente.
        uint valorAparelho = 10;
        uint imei = 123;
```

**Resultado Esperado**: os valores esperados são os mesmos fornecidos anteriormente no caso valor do aparelho”10” e imei “123”.<br>

**Procedimento de teste**:O valor do aparelho e o imei definidos são fornecidos para função solicitacaoAprovacao() para o usuário ser adicionado ao contrato, depois as informações salvas são recuperadas pelas funções teste3A() e teste 3B(), para serem comparadas ao resultado esperado.<br>

```
 //salva o usuário na lista de aprovação
        meuContrato.solicitacaoAprovacao(valorAparelho, imei);
        //valores realmente salvos na tabela
        uint imeiSalvo = meuContrato.teste3A();
        uint valorAparelhoSalvo = meuContrato.teste3B();
        //realização da comparação do teste, para conferir se o usuário foi salvo corretamente
```

**Pós-condição**: o teste verifica se o valor retornado pelas funções teste3A() e teste 3B() são iguais ao resultados registrados previamente, e retorna “Erro ao registrar Imei” caso o imei está errado e “Erro ao registrar valor do aparelho” caso valor do aparelho seja registrado errado.

```
 //realização da comparação do teste, para conferir se o usuário foi salvo corretamente
        Assert.equal(imeiSalvo,imei, "Erro ao registrar Imei");
        Assert.equal(valorAparelhoSalvo, valorAparelho, "Erro ao registrar valor do aparelho ");
}
```

Abaixo é possível visualizar o código completo deste teste tanto para copiar quanto para uma captura de tela para melhor visualização no Remix IDE:

```
/// #sender: account-2
    /// #value: 0
    //Confere se o imei e valor do aparelho de quem solicitou foram salvos corretamente
    function testSolicitacaoAprovacao() public {
        //cria o contrato
        MeuContrato meuContrato = new MeuContrato(1, 5, 10);
        //define o valor do aparelho e o seu imei, os quais são esperados que sejam salvos corretamente.
        uint valorAparelho = 10;
        uint imei = 123;
        //salva o usuário na lista de aprovação
        meuContrato.solicitacaoAprovacao(valorAparelho, imei);
        //valores realmente salvos na tabela
        uint imeiSalvo = meuContrato.teste3A();
        uint valorAparelhoSalvo = meuContrato.teste3B();
        //realização da comparação do teste, para conferir se o usuário foi salvo corretamente
        Assert.equal(imeiSalvo,imei, "Erro ao registrar Imei");
        Assert.equal(valorAparelhoSalvo, valorAparelho, "Erro ao registrar valor do aparelho ");
}
```
![Teste automatizado 3](https://github.com/2023M5T4-Inteli/Projeto3/blob/main/Documentos/outros/Captura%20de%20telas%20-%20Imagens/Teste%20Automatizado%203.png)
<br>

### **Teste número 4**
Na Quarta função de teste, "testeMaximoIndenizavel()”, é verificado se o máximo indenizável, baseado no saldo restante do membro do contrato, está sendo calculado corretamente”.<br>
**Pré-condição**: é criado um novo contrato, após isso e definimos o valor do aparelho”10” e o saldo do úsuario“4”.
```
/// #sender: account-0
    //funcao para testar se o maximo indenizavel e calculado corretamente
    function testeMaximoIndenizavel() public{
    //cria o contratrato
        MeuContrato meuContrato = new MeuContrato(1, 10, 5);
        //define o saldo atual e o valor do aparelho da pessoa, para calcular o maximo indenizavel
        uint saldo = 4;
        uint valorAparelho= 10;
```

**Resultado Esperado**: o valor esperado é 8. equivalente a 80% de cobertura do valor do aparelho.

```
//obs: o usuário deve ter pelo menos 50% do valor do aparelho para indenização máxima, abaixo disso será proporcional ao seu saldo
        //calcula o maximo indenizavel
uint maximoIndenizavel = meuContrato.maximoIndenizavelParaTeste(saldo,valorAparelho);
        uint valorEsperado = 8;
```
**Procedimento de teste**: O valor para o aparelho e o saldo do usuário são passados para função MaximoIndenizavel(), que irá calcular o máximo indenizável com base nas informações e retornar esse valor para ser comparado posteriormente com o esperado.

**Pós-condição**: o teste verifica se o valor retornado pela funçãoMaximoIndenizavel() é igual ao valor espererado”8”, e retorna “Maximo indenizavel incorreto” caso o cálculo de errado.

```
//confere seu foi calculado corretamente
Assert.equal(maximoIndenizavel,valorEsperado, "Maximo indenizavel incorreto");
    }
```
Abaixo é possível visualizar o código completo deste teste tanto para copiar quanto para uma captura de tela para melhor visualização no Remix IDE:
```
/// #sender: account-0
    //funcao para testar se o maximo indenizavel e calculado corretamente
    function testeMaximoIndenizavel() public{
    //cria o contratrato
        MeuContrato meuContrato = new MeuContrato(1, 10, 5);
        //define o saldo atual e o valor do aparalho da pessoa, para calcular o maximo indenizavel
        uint saldo = 4;
        uint valorAparelho= 10;
        //obs: o úsuario deve ter pelo menos 50% do valor do aparelho para indenização maxima, abaixo disso sera prorpocional ao seu saldo
        //calcula o maximo indenizavel
        uint maximoIndenizavel = meuContrato.maximoIndenizavelParaTeste(saldo,valorAparelho);
        uint valorEsperado = 8;
        //confere seu foi calculado corretamente
        Assert.equal(maximoIndenizavel,valorEsperado, "Maximo indenizavel incorreto");
    }
```
![Teste automatizado 4](https://github.com/2023M5T4-Inteli/Projeto3/blob/main/Documentos/outros/Captura%20de%20telas%20-%20Imagens/Teste%20Automatizado%204.png)
<br>

### **Teste número 5**
Na Quinta função de teste, "testeViabilidadeContrato()", é verificado se a função identifica corretamente se o contrato possui a quantidade correta de membros para o seu funcionamento”.

**Pré-condição**: é criado um novo contrato, passando como parâmetro o mínimo de pessoas como 1 e o máximo como 3, e são adicionados 2 usuários no contrato através da função adicionarUsuario.

```
/// #sender: account-0
    //função para conferir se a viabilidade do contrato está funcionando
    function testeViabilidadeContrato() public{
    //cria o contrato definindo o mínimo de pessoas como 1 e o máximo com 3
    MeuContrato meuContrato = new MeuContrato(1, 3, 5);
```
**Resultado Esperado**: o valor esperado é 1, que ocorre quando o contrato está avaliado, uma vez que ele possui 2 usuários, valor este que está entre o mínimo e o máximo.<br>

**Procedimento de teste**: A função adicionarUsuario() é chamada 2 vezes, para adicionar 2 novos usuários ao contrato, após isso é chamada a função viabiliadeContrato(), que irá verificar se o número de pessoas é válido e retornar um feedback, que sera utilizado para ser comparado com resultado esperado.<br>

```
//adiciona 2 pessoas ao contrato
    meuContrato.adicionarUsuario(TestsAccounts.getAccount(1),10, 123);
    meuContrato.adicionarUsuario(TestsAccounts.getAccount(2),15, 124);
    //verifica se o contrato tem um numero valido de pessoas
    uint resposta = meuContrato.viabilidadeContrato();
```
**Pós-condição**: o teste verifica se o valor retornado pelaviabiliadeContrato() é igual ao Resultado esperado “1”, e retorna “Resposta Incorreta” caso o resultado esteja errado.

```
 //define que a reposata esperada e 1, valido, pois temos 2 pessoas, valor este que esta entre 1 e 3 definidos no min e max
    uint respostaEsperada = 1;
    //confere seu foi calculado corretamente
    Assert.equal(resposta,respostaEsperada, "Resposta Incorreta");
    }
```
Abaixo é possível visualizar o código completo deste teste tanto para copiar quanto para uma captura de tela para melhor visualização no Remix IDE:
```
/// #sender: account-0
    //função para conferir se a viabiliade do contrato esta funcionado
    function testeViabilidadeContrato() public{
    //cria o contrato definindo o min de pessaos como 1 e o maximo com 3
    MeuContrato meuContrato = new MeuContrato(1, 3, 5);
    //adiciona 2 pessoas ao contrato
    meuContrato.adicionarUsuario(TestsAccounts.getAccount(1),10, 123);
    meuContrato.adicionarUsuario(TestsAccounts.getAccount(2),15, 124);
    //verifica se o contrato tem um numero valido de pessoas
    uint resposta = meuContrato.viabilidadeContrato();
    //define que a reposata esperada e 1, valido, pois temos 2 pessoas, valor este que esta entre 1 e 3 definidos no min e max
    uint respostaEsperada = 1;
    //confere seu foi calculado corretamente
    Assert.equal(resposta,respostaEsperada, "Resposta Incorreta");
    }
```
![Teste automatizado 5](https://github.com/2023M5T4-Inteli/Projeto3/blob/main/Documentos/outros/Captura%20de%20telas%20-%20Imagens/Teste%20Automatizado%205.png)
<br>

Em resumo, os testes de automatizados são importantes para garantir que pequenas partes do código estejam funcionando corretamente antes de serem integradas a outras partes. Os testes têm pré e pós-condições definidas e verificam se o resultado esperado foi alcançado. Isso ajuda a garantir que o código funcione corretamente e minimize a possibilidade de erros e bugs em versões futuras.


## 💻 Configuração para desenvolvimento

### 🛠 Instalação

Instruções para a configuração do ambiente de desenvolvimento:
```

```

## 🗃 Histórico de lançamentos (versões)

* 5.0 - 07/04/2023
    * Quinta entrega - Projeto Final: Front + Back + Smart Contracts + Testes de Integração (Web3) + Deploy + Documentação.
* 4.0 - 24/03/2023
    * Quarta entrega - Integração completa Front + Back + Smart Contracts.
* 3.0 - 10/02/2023
    * Terceira entrega - Front-end da solução, Back-end (Node + Truffle), Smart Contracts e Testes de Integração.
* 2.0 - 24/02/2023
    * Segunda entrega - Construção do Protótipo (WireFrame) e Desenvolvimento dos Smart Contracts
* 1.0 - 10/02/2023
    * Primeira entrega - Entendimento do Negócio

<br>

## 📋 Licença

<p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://github.com/2023M5T4-Inteli">Smart Insurence Blockchain</a> by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://github.com/InteliProjects">INTELI</a>, <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://github.com/2023M5T4-Inteli/Projeto3">BlockCoovers</a>: <a href="https://www.linkedin.com/in/dayllan-alho">Dayllan de Souza Alho</a>, <a href="https://www.linkedin.com/in/joão-marques-1b64b2232">João Moreira Tourinho Marques</a>, <a href="https://linkedin.com/in/kathlyn-diwan-0a0189232">Kathlyn Diwan</a>, <a href="https://www.linkedin.com/in/carvalholari">Larissa Gouveia de Carvalho</a>, <a href="https://www.linkedin.com/in/patrick-victorino-miranda-7ab911231">Patrick Victorino Miranda</a>, <a href="https://linkedin.com/in/pedrocrezende">Pedro de Carvalho Rezende</a> and <a href="https://www.linkedin.com/in/rodrigo-campos-8b70191ab">Rodrigo Campos Rodrigues</a>,
is licensed under <a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">Attribution 4.0 International <img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"></a></p>
